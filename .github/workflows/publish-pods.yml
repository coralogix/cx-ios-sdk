```yaml
name: Publish CocoaPods

on:
  release:
    types: [published]

jobs:
  publish-pods:
    runs-on: ubuntu-latest

    steps:
      # Checkout the repository
      - name: Checkout code
        uses: actions/checkout@v4

      # Set up Ruby (required for CocoaPods)
      - name: Set up Ruby
        uses: ruby/setup-ruby@v1
        with:
          ruby-version: '3.2' # Specify a Ruby version compatible with CocoaPods
          bundler-cache: true

      # Install CocoaPods
      - name: Install CocoaPods
        run: gem install cocoapods

      # Set up CocoaPods Trunk authentication
      - name: Authenticate with CocoaPods Trunk
        env:
          COCOAPODS_TRUNK_TOKEN: ${{ secrets.COCOAPODS_TRUNK_TOKEN }}
        run: |
          echo "Setting up CocoaPods Trunk session..."
          pod trunk register ${{ secrets.COCOAPODS_TRUNK_EMAIL }} "${{ secrets.COCOAPODS_TRUNK_NAME }}" --session=${{ secrets.COCOAPODS_TRUNK_TOKEN }} --verbose || echo "Session already exists, proceeding..."

      # Lint CoralogixInternal.podspec
      - name: Lint CoralogixInternal.podspec
        run: |
          echo "üîç Linting CoralogixInternal.podspec..."
          pod lib lint CoralogixInternal.podspec --verbose --no-clean --allow-warnings
          echo "‚úÖ CoralogixInternal.podspec passed lint."

      # Lint SessionReplay.podspec
      - name: Lint SessionReplay.podspec
        run: |
          echo "üîç Linting SessionReplay.podspec with dependency on CoralogixInternal..."
          pod lib lint SessionReplay.podspec --include-podspecs=CoralogixInternal.podspec --verbose --no-clean --allow-warnings
          echo "‚úÖ SessionReplay.podspec passed lint."

      # Lint Coralogix.podspec
      - name: Lint Coralogix.podspec
        run: |
          echo "üîç Linting Coralogix.podspec with dependency on CoralogixInternal..."
          pod lib lint Coralogix.podspec --include-podspecs=CoralogixInternal.podspec --verbose --no-clean --allow-warnings
          echo "‚úÖ Coralogix.podspec passed lint."

      # Push CoralogixInternal.podspec
      - name: Push CoralogixInternal.podspec
        run: |
          echo "üöÄ Pushing CoralogixInternal.podspec..."
          pod trunk push CoralogixInternal.podspec --allow-warnings --verbose
          echo "‚úÖ CoralogixInternal.podspec pushed!"

      # Clear CocoaPods cache
      - name: Clear CocoaPods cache
        run: |
          echo "üßπ Clearing CocoaPods cache..."
          pod cache clean --all
          echo "‚úÖ Cache cleared."

      # Wait for CoralogixInternal availability
      - name: Wait for CoralogixInternal availability
        run: |
          echo "‚è≥ Waiting for CoralogixInternal to be available in CocoaPods Specs..."
          timeout=900  # 15 minutes in seconds
          elapsed=0
          until pod search CoralogixInternal | grep -q "CoralogixInternal"; do
            if [ $elapsed -ge $timeout ]; then
              echo "‚ùå Timeout: CoralogixInternal not available after $timeout seconds."
              exit 1
            fi
            echo "‚è≥ CoralogixInternal not yet available, waiting 30 seconds..."
            sleep 30
            elapsed=$((elapsed + 30))
          done
          echo "‚úÖ CoralogixInternal is now available!"

      # Push SessionReplay.podspec
      - name: Push SessionReplay.podspec
        run: |
          echo "üöÄ Pushing SessionReplay.podspec..."
          pod trunk push SessionReplay.podspec --allow-warnings --verbose
          echo "‚úÖ SessionReplay.podspec pushed!"

      # Push Coralogix.podspec
      - name: Push Coralogix.podspec
        run: |
          echo "üöÄ Pushing Coralogix.podspec..."
          pod trunk push Coralogix.podspec --allow-warnings --verbose
          echo "üéâ Coralogix.podspec pushed successfully! üéâ"
```